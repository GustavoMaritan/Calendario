@using System.Globalization
@{
    ViewBag.Title = "Home Page";
    var ano = 2000;
}

<style>
    .divCalendario {
        width: 700px;
        position: absolute;
    }

    .divCabecalho {
        width: 100px;
        height: 50px;
        text-align: center;
        padding-top: 13px;
        float: left;
        border: 1px solid black;
        background-color: rgba(180,180,180,0.8);
        font-weight: bold;
    }

    .divDias {
        background-color: rgba(220,220,220,0.8);
    }

    .divDiasHj {
        background-color: rgba(138,43,226,0.7);
        color: white;
    }

        .divDiasHj:hover, .divDias:hover {
            background-color: rgba(220,220,255,0.8);
            color: black;
        }

    .divDiasOff {
        background-color: rgba(60,60,60,0.7);
        color: white;
    }

    .divDias, .divDiasHj, .divDiasOff {
        width: 100px;
        height: 100px;
        float: left;
        border: 1px solid black;
        font-size: 18px;
        padding-left: 3px;
        cursor: pointer;
    }
</style>
<br />
<div class="row">
    <div class="col-sm-4">
        <select class="form-control" id="ddlAno" onchange="GetCalendar()">
            @for (var j = 1; j <= 100; j++)
            {
                <option value="@ano">@ano</option>
                ano++;
            }
        </select>
    </div>
    <div class="col-sm-4">
        <select class="form-control" id="ddlMes" onchange="GetCalendar()">
            @for (var j = 1; j <= 12; j++)
            {
                <option value="@j">@DateTimeFormatInfo.CurrentInfo.GetMonthName(j)</option>
            }
        </select>
    </div>
</div>
<br />
<div class="row" id="divCalendar">
</div>


<script>
    var dataHJ = '@DateTime.Now.ToShortDateString()';

    $('#ddlAno').val(dataHJ.split('/')[2]);
    $('#ddlMes').val(dataHJ.split('/')[1]);

    GetCalendar();

    function GetCalendar() {
        $.get('@Url.Action("CalendarMes","Home")', {
            ano: $('#ddlAno').val(),
            mes: $('#ddlMes').val()
        }).success(function (dados) {
            $('#divCalendar').html(dados);
        });
    }
</script>